# AI Project Tracker

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç + –≤–µ–±-–ø–∞–Ω–µ–ª—å + –±—ç–∫–µ–Ω–¥ + –ª–æ–∫–∞–ª—å–Ω–∞—è AI-–º–æ–¥–µ–ª—å (–±–µ–∑ –ø–ª–∞—Ç—ë–∂–µ–∫).  
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–¥–µ–∏ –∏ 5‚Äì7 –∑–∞–¥–∞—á, –¥–∞—ë—Ç –æ—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone <REPO_URL> ai-project-tracker
cd ai-project-tracker

# 2) –°–æ–∑–¥–∞—Ç—å .env –∏–∑ —à–∞–±–ª–æ–Ω–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å (—Å–º. —Ä–∞–∑–¥–µ–ª ".env" –Ω–∏–∂–µ)
cp .env.example .env  # –µ—Å–ª–∏ .env.example –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ .env –≤—Ä—É—á–Ω—É—é –∏–∑ –±–ª–æ–∫–∞ –Ω–∏–∂–µ

# 3) –ü–æ–¥–Ω—è—Ç—å –≤—Å—ë –≤ Docker (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ LLM —Å–∫–∞—á–∞–µ—Ç ~2 –ì–ë)
docker compose up -d --build
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**

```bash
# LLM —Å–ª—É—à–∞–µ—Ç (–∏—â–µ–º —Ñ—Ä–∞–∑—É "server is listening on 8080")
docker compose logs -n 50 llm

# –ë—ç–∫–µ–Ω–¥ –∂–∏–≤
curl http://localhost:8000/health   # {"ok":true}
```

–û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–ø–∞–Ω–µ–ª—å: http://localhost:3000/login

---

## ‚öôÔ∏è –§–∞–π–ª .env (–ø—Ä–∏–º–µ—Ä)

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–µ–±—è:

```env
# Common
PROJECT_NAME=ai-project-tracker
TZ=Asia/Almaty

# Postgres
POSTGRES_USER=app
POSTGRES_PASSWORD=app
POSTGRES_DB=tracker
DATABASE_URL=postgresql+psycopg2://app:app@db:5432/tracker

# Redis (–∫—ç—à AI + FSM –±–æ—Ç–∞)
REDIS_URL=redis://redis:6379/0

# –õ–æ–∫–∞–ª—å–Ω–∞—è AI (OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å–µ—Ä–≤–µ—Ä llama.cpp)
AI_PROVIDER=oss
OSS_BASE_URL=http://llm:8080/v1
OSS_MODEL=qwen2.5-3b-instruct
OSS_API_KEY=local

# Web ‚Üí Backend (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–æ–º)
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# –£—á—ë—Ç–∫–∞ –∞–¥–º–∏–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–ø–∞–Ω–µ–ª—å
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# Telegram-–±–æ—Ç
TELEGRAM_BOT_TOKEN=<–≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather>
```

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –±–æ—Ç —Ö–æ–¥–∏—Ç –∫ –±—ç–∫–µ–Ω–¥—É –ø–æ –∞–¥—Ä–µ—Å—É `http://backend:8000` **–≤–Ω—É—Ç—Ä–∏ docker-—Å–µ—Ç–∏** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å–µ—Ä–≤–∏—Å–µ `bot`).  
> –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `NEXT_PUBLIC_API_BASE_URL=http://localhost:8000`.

---

## üß© –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç

- **Bot (aiogram v3)** ‚Äî –∫–Ω–æ–ø–∫–∏: **üÜï –ò–¥–µ—è**, **üìã –ü—Ä–æ–µ–∫—Ç—ã**, **‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å**, **üìä –û—Ç—á—ë—Ç**, **‚ùì –ü–æ–º–æ—â—å**, **‚õî –û—Ç–º–µ–Ω–∞**. –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–∞.  
- **Web (Next.js + Tailwind CSS)** ‚Äî –ª–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞, —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–µ–∫—Ç–æ–≤/–∑–∞–¥–∞—á, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, **AI Review** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º.  
- **Backend (FastAPI + SQLAlchemy)** ‚Äî Postgres, Redis-–∫—ç—à, OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–ª–∏–µ–Ω—Ç –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM, health-—á–µ–∫.  
- **LLM (llama.cpp server)** ‚Äî OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π `/v1/chat/completions`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **Qwen2.5-3B-Instruct (GGUF q4_k_m)**.

**–ü–æ—Ä—Ç—ã:**

- Web: **3000**  
- Backend: **8000**  
- DB: **5432**  
- Redis: **6379**  
- LLM: **8080** (–≤–Ω—É—Ç—Ä–∏ docker-—Å–µ—Ç–∏)

---

## üñ•Ô∏è –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –í–µ–±-–ø–∞–Ω–µ–ª—å (–∞–¥–º–∏–Ω)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/login`.  
2. –í–≤–µ–¥–∏—Ç–µ `ADMIN_EMAIL` / `ADMIN_PASSWORD` –∏–∑ `.env`.  
3. –ù–∞ `/admin`: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏—Ö –ø—Ä–æ–µ–∫—Ç—ã –∏ –∑–∞–¥–∞—á–∏; –∫–Ω–æ–ø–∫–∞ **AI Review** –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.

### –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç

1. –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ–º—É –±–æ—Ç—É (—Ç–æ–∫–µ–Ω –≤ `.env`). –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: –±–æ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –∏–º—è –∏ e-mail (–º–æ–∂–Ω–æ –ø—Ä–∏—Å–ª–∞—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ).  
2. **üÜï –ò–¥–µ—è** ‚Äî –ø—Ä–∏—à–ª–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ; –±–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ **5‚Äì7 –∑–∞–¥–∞—á** (—Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º).  
3. **üìã –ü—Ä–æ–µ–∫—Ç—ã** ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∑–∞–¥–∞—á.  
4. **‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å** ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí –∑–∞–¥–∞—á—É ‚Üí —Å—Ç–∞—Ç—É—Å (–∫–Ω–æ–ø–∫–∞–º–∏).  
5. **üìä –û—Ç—á—ë—Ç** ‚Äî % –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –∏ –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç AI.

---

## üì¶ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps

# –õ–æ–≥–∏
docker compose logs -f backend
docker compose logs -f bot
docker compose logs -f llm

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
docker compose build backend && docker compose up -d backend

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker compose down

# –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å —Ç–æ–º–∞ (–æ—á–∏—Å—Ç–∏—Ç—å –ë–î/–∫—ç—à)
docker compose down -v
```

---

## üîå –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ API

```bash
# Health
curl http://localhost:8000/health

# –ê–¥–º–∏–Ω: —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω—É–∂–µ–Ω Bearer-—Ç–æ–∫–µ–Ω –±—Ä–∞—É–∑–µ—Ä–∞)
curl -H "Authorization: Bearer <TOKEN>" http://localhost:8000/admin/users

# AI-review –ø—Ä–æ–µ–∫—Ç–∞
curl -X POST http://localhost:8000/ai/review/<project_id>
```

---

## üêû –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

**–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω (`TELEGRAM_BOT_TOKEN`) –∏ –ª–æ–≥–∏: `docker compose logs -f bot`
- –ë—ç–∫–µ–Ω–¥ –∂–∏–≤: `curl http://localhost:8000/health`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API_BASE —Å–µ—Ä–≤–∏—Å–∞ –±–æ—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `http://backend:8000` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∞–∫ –∏ –µ—Å—Ç—å)

**AI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç / –≤–∏—Å–∏—Ç**
- –í –ª–æ–≥–∞—Ö `llm` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ `server is listening on 8080`
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–∫–∞—á–∏–≤–∞–µ—Ç ~2 –ì–ë; —Ç—Ä–µ–±—É–µ—Ç—Å—è 3‚Äì4 –ì–ë RAM
- –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –ª—ë–≥–∫—É—é GGUF-–º–æ–¥–µ–ª—å –∏ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –µ—ë –≤ `OSS_MODEL`

**–í–µ–± –Ω–µ –≤–∏–¥–∏—Ç API**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `NEXT_PUBLIC_API_BASE_URL=http://localhost:8000`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ web: `docker compose up -d --build web`

**–ù–µ –ø—É—Å–∫–∞–µ—Ç –≤ –∞–¥–º–∏–Ω–∫—É**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ADMIN_EMAIL` / `ADMIN_PASSWORD` –≤ `.env`
- –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞: `docker compose logs -f backend`

---

## üóÇÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫—Ä–∞—Ç–∫–æ)

```
Telegram ‚ü∑ Bot (aiogram)
                ‚îÇ
                ‚ñº
           Backend (FastAPI) ‚îÄ‚îÄ‚ñ∫ Redis (–∫—ç—à)
                ‚îÇ
                ‚îú‚îÄ‚ñ∫ Postgres (–ë–î)
                ‚îî‚îÄ‚ñ∫ LLM (llama.cpp, /v1/chat/completions)

Browser ‚îÄ‚îÄ‚ñ∫ Web (Next.js) ‚îÄ‚îÄ‚ñ∫ Backend
```

